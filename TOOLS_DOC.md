# Документация по инструментам (тулзам) для ассистента/агента в OpenGPTs

## Где хранится информация о доступных инструментах
- Список доступных тулз для ассистента хранится в его конфиге, в поле:
  `config.configurable["type==agent/tools"]`
- Это массив объектов, где каждый объект описывает одну тулзу (тип, имя, описание и т.д.).
- Конфиг ассистента хранится в базе данных (таблица assistants, поле config).

## Как добавляются инструменты ассистенту
- В UI (frontend) при создании или редактировании ассистента можно выбрать тулзы из списка.
- При добавлении тулзы она попадает в массив `type==agent/tools` в конфиге ассистента.
- При сохранении ассистента этот конфиг отправляется на backend через API.
- Пример структуры:
  ```json
  {
    "config": {
      "configurable": {
        "type==agent/tools": [
          { "type": "ddg_search", "name": "DuckDuckGo Search", ... },
          { "type": "arxiv", "name": "Arxiv", ... }
        ]
      }
    }
  }
  ```

## Как backend использует эту информацию
- При запуске агента backend читает список тулз из config.assistant["type==agent/tools"].
- Только эти тулзы реально доступны для вызова в pipeline агента.
- Если тулза не добавлена — она не будет вызвана, даже если LLM "захочет".

## API
- Для получения/обновления ассистента используется endpoint `/assistants/{assistant_id}`.
- В payload всегда есть config, где и лежит список тулз.

## Важно
- Любые изменения в списке тулз (добавление/удаление) происходят только через UI или API.
- Backend не "догадывается" о наличии тулзы — только явно выбранные инструменты доступны агенту.

## Пример использования
1. В UI выбери нужные тулзы для ассистента и сохрани.
2. Проверь, что в конфиге ассистента (через API или в базе) появились нужные записи.
3. Только после этого агент сможет реально вызывать эти инструменты при обработке запросов пользователя. 